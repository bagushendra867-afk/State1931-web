<!DOCTYPE html>
<html lang="id">
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8BTPQX1LDT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-8BTPQX1LDT');
</script>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>STATE 1931 â€” Whiteout Survival</title>
<link rel="icon" type="image/png" href="/favicon.png">
<link rel="apple-touch-icon" href="/favicon.png">
<meta name="description" content="Website resmi aliansi STATE 1931 Whiteout Survival. Cek jadwal Bear Trap, Crazy Joe, dan koordinasi SVS.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://state1931.my.id/">
<meta property="og:image" content="https://state1931.my.id/logo-baru.gif">
<link rel="icon" type="image/png" href="logo-baru.png">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
:root{
  --bg1:#071026; --bg2:#0f2a44;
  --glass: rgba(255,255,255,0.06);
  --glass-2: rgba(255,255,255,0.04);
  --accent:#58a6ff; --neon:#66d0ff; --muted:#bfcfe0;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,sans-serif;overflow-x:hidden;}
body{
  background: linear-gradient(135deg,var(--bg1), var(--bg2));
  color:#eaf5ff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
  padding-bottom: 80px; /* Space for bottom nav */
}
#snow-canvas{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:0;mix-blend-mode:screen;opacity:0.9}
.wrap{position:relative;z-index:1;max-width:980px;margin:16px auto;padding:14px}

/* Header */
header.appbar{
  display:flex;flex-wrap:wrap;gap:12px;align-items:center;
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  padding:14px;border-radius:14px;
  box-shadow:0 6px 18px rgba(3,10,20,0.6), inset 0 -1px 0 rgba(255,255,255,0.02);
  backdrop-filter: blur(8px) saturate(120%);
}
.logo{
  width:54px;height:54px;border-radius:10px;
  background:linear-gradient(180deg,#0f3a6b,#06304f);
  display:flex;align-items:center;justify-content:center;font-weight:800;
  box-shadow:0 6px 20px rgba(0,0,0,0.5);
  border:1px solid rgba(255,255,255,0.04);
  color:var(--neon); font-size:18px;
}
.title-block h1{margin:0;font-size:20px;font-weight:800;line-height:1.2}
.title-block p{margin:0;font-size:12px;color:var(--muted)}
header .right{margin-left:auto;text-align:right;font-size:13px;color:var(--muted)}

/* Time Box */
.time-box {
    margin-top: 6px; padding: 4px 10px; background: rgba(0,0,0,0.3);
    border-radius: 8px; font-size: 11px; display: inline-block;
    border: 1px solid rgba(255,255,255,0.05);
}
.time-highlight { color: #fff24f; font-weight: bold; }

/* Navigation Tabs (Bottom) */
.nav-bar {
    position: fixed; bottom: 0; left: 0; width: 100%;
    background: rgba(7, 16, 38, 0.95);
    display: flex; justify-content: space-around;
    padding: 12px 0; border-top: 1px solid rgba(255,255,255,0.1);
    z-index: 9999; backdrop-filter: blur(10px);
    box-shadow: 0 -4px 20px rgba(0,0,0,0.5);
}
.nav-item {
    color: var(--muted); text-decoration: none; font-size: 10px;
    text-align: center; cursor: pointer; flex: 1;
    transition: color 0.2s;
}
.nav-item.active { color: var(--neon); font-weight: bold; text-shadow: 0 0 8px rgba(102,208,255,0.4); }
.nav-icon { display: block; font-size: 18px; margin-bottom: 4px; }

/* Content Sections */
.content-section { display: none; animation: fadeUp 0.4s forwards; }
.content-section.active { display: block; }

/* Countdown & Cards */
.countdown{display:flex;gap:8px;align-items:center;font-weight:700; margin-top:4px;}
.countdown .box{background:rgba(0,0,0,0.3);padding:4px 8px;border-radius:6px;min-width:32px;text-align:center;font-family:monospace;font-size:1.1em;border:1px solid rgba(255,255,255,0.1);}
#nextEventName .vln { color: #3bb0ff; }
#nextEventName .grd { color: #2de68c; }
#nextEventName .bee { color: #fff24f; }
#nextEventName .tur { color: #ff5c5c; }

.hero-events { display: flex; flex-wrap: wrap; gap: 12px; margin-top: 14px; }
.hero-card {
  flex: 1; min-width: 280px; padding: 16px; border-radius: 12px;
  text-align: center; position: relative; overflow: hidden;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4); backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.1); transition: transform 0.2s;
}
.hero-card.svs { background: linear-gradient(135deg, rgba(100, 0, 0, 0.6), rgba(40, 0, 0, 0.8)); border-color: #ff4444; }
.hero-card.sfc { background: linear-gradient(135deg, rgba(0, 40, 100, 0.6), rgba(0, 10, 40, 0.8)); border-color: #4488ff; }
.hero-title { font-size: 1.2em; font-weight: 800; text-transform: uppercase; margin-bottom: 4px; letter-spacing: 1px; color: #fff; }
.hero-date { font-size: 0.85em; color: #ddd; margin-bottom: 10px; font-style: italic; opacity: 0.8; }
.hero-timer { font-family: 'Monaco', 'Consolas', monospace; font-size: 1.8em; font-weight: 700; background: rgba(0,0,0,0.3); padding: 8px 0; border-radius: 8px; margin-top: 5px; border: 1px solid rgba(255,255,255,0.05); color: #fff; }
@keyframes pulseWar { 0% { box-shadow: 0 0 0 0 rgba(255, 68, 68, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(255, 68, 68, 0); } 100% { box-shadow: 0 0 0 0 rgba(255, 68, 68, 0); } }
.active-war { animation: pulseWar 2s infinite; border-color: #ff0000 !important; background: linear-gradient(135deg, #700, #400) !important; }

.card {
  margin-top: 12px; background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  border-radius: 12px; padding: 12px; box-shadow: 0 8px 24px rgba(2,8,20,0.6);
  border: 1px solid rgba(255,255,255,0.04); backdrop-filter: blur(10px) saturate(120%);
}
.alliances-list { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 6px; }
.alliance { padding: 10px; border-radius: 10px; font-weight: 700; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border: 1px solid rgba(255,255,255,0.02); font-size: 14px; display: flex; justify-content: center; align-items: center; gap: 8px; white-space: nowrap; }
.kor{color:#3bb0ff} .grd{color:#2de68c} .bee{color:#fff24f} .tur{color:#ff5c5c} .wbe{color:#FF9F43} .hel{color:#D6A2E8} 

.btn{ display:inline-block;padding:10px 14px;border-radius:10px;text-decoration:none;font-weight:700; background:linear-gradient(90deg,var(--accent),#3bd1ff); color:#021428;border:none;cursor:pointer; box-shadow:0 6px 20px rgba(60,140,220,0.12); flex:1; text-align:center; }
.btn.neon{ color:#001425;background:linear-gradient(90deg,#004b68,#00c0ff); box-shadow:0 6px 28px rgba(0,190,255,0.14); }
.btn.sm{padding:6px 10px;font-size:12px; flex:initial; width:auto;}
.actions{display:flex;gap:10px;flex-wrap:wrap;align-items:stretch;}
.lang-switch{display:flex;gap:6px;justify-content:flex-end;margin-bottom:6px}

/* Accordion & Calculator */
.accordion{width:100%;background:var(--glass-2);padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;display:flex;justify-content:space-between;align-items:center;margin-top:6px; color:white;}
.panel{display:none;padding:10px;margin-top:6px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:8px;border:1px solid rgba(255,255,255,0.02)}
.event-row{display:flex;justify-content:space-between;padding:6px 8px;border-radius:8px;margin:4px 0;background:rgba(0,0,0,0.12)}
.event-name{font-weight:600;font-size:14px} .event-time{font-weight:700}
.calc-input { width: 100%; padding: 10px; margin: 5px 0; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); color: white; border-radius:8px; }
#result-calc { margin-top: 15px; font-weight: bold; color: var(--grd); font-size:1.1em;}

/* Hall of Fame */
.hof-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 10px; margin-top:10px;}
.hof-card { background: rgba(255,255,255,0.05); padding: 12px; text-align: center; border-radius: 8px; border: 1px solid rgba(255,215,0,0.3); }
.crown { font-size: 1.5rem; margin-bottom:4px; display:block; }
.hof-name { font-weight:bold; color:#fff; display:block; font-size:0.9em; }
.hof-desc { font-size:0.75em; color:var(--muted); }

/* Map */
.fort { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; padding: 8px 4px; text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center; }
.f-name { font-size: 10px; color: #8899a6; margin-bottom: 2px; }
.f-owner { font-weight: bold; font-size: 12px; color: #fff; }
.fort.grd { background: rgba(0, 255, 136, 0.1); border-color: #00ff88; } .fort.grd .f-owner { color: #00ff88; } 
.fort.vln { background: rgba(59, 176, 255, 0.1); border-color: #3bb0ff; } .fort.vln .f-owner { color: #3bb0ff; } 
.fort.bee { background: rgba(255, 242, 79, 0.1); border-color: #fff24f; } .fort.bee .f-owner { color: #fff24f; } 
.fort.tur { background: rgba(255, 92, 92, 0.1); border-color: #ff5c5c; } .fort.tur .f-owner { color: #ff5c5c; } 
.fort.wbe { background: rgba(255, 159, 67, 0.1); border-color: #FF9F43; } .fort.wbe .f-owner { color: #FF9F43; } 
.fort.hel { background: rgba(214, 162, 232, 0.1); border-color: #D6A2E8; } .fort.hel .f-owner { color: #D6A2E8; } 
.fort.ally { background: rgba(255, 255, 255, 0.05); border-color: #aaa; } 

.fadeIn{opacity:0;transform:translateY(6px);animation:fadeUp .6s forwards} .fadeIn.delay1{animation-delay:.08s} .fadeIn.delay2{animation-delay:.16s} .fadeIn.delay4{animation-delay:.32s}
@keyframes fadeUp{to{opacity:1;transform:none}}
.caption{font-size:12px;color:var(--muted);margin-top:6px}

@media (max-width: 480px) {
  header.appbar { padding: 10px; gap: 8px; }
  .title-block h1 { font-size: 16px; }
  .title-block p { font-size: 10px; display: block; }
  header .right { margin-left: auto; width: auto; display: flex; flex-direction: column; align-items: flex-end; }
  .countdown { display: flex; flex-direction: row; align-items: center; gap: 6px; }
  #nextEventName { font-size: 11px; white-space: nowrap; line-height: 1.2; }
  #nextEventDate { display: block; font-size: 9px; margin-top: 2px; }
  .countdown .box { padding: 3px 5px; font-size: 13px; min-width: 26px; }
}
</style>
</head>
<body>
<canvas id="snow-canvas"></canvas>
<div class="wrap">
  <header class="appbar fadeIn">
    <div class="logo">
      <img src="logo-baru.gif" alt="State 1931 Logo" style="width: 100%; height: 100%; border-radius: 50%; object-fit: contain;">
    </div>
    <div class="title-block">
      <h1>âœ¨ STATE 1931</h1>
      <p data-i18n="subtitle">Whiteout Survival â€” info & schedule (UTC)</p>
      <div class="time-box">
          <span data-i18n="myTime">My Time</span>: <span id="local-time" class="time-highlight">00:00</span>
      </div>
    </div>
    <div class="right">
      <div class="lang-switch">
        <button class="btn sm" data-lang="id">ğŸ‡®ğŸ‡©</button>
        <button class="btn sm" data-lang="en">ğŸ‡ºğŸ‡¸</button>
        <button class="btn sm" data-lang="ko">ğŸ‡°ğŸ‡·</button>
      </div>
      <div data-i18n="nextLabel">Next event</div>
      <div class="countdown">
        <div style="text-align:right;">
           <span id="nextEventName" style="display:block; font-size:13px; margin-bottom:2px">...</span>
           <span id="nextEventDate" style="display:block; font-size:10px; font-weight:400; color:var(--muted)">...</span>
        </div>
        <div style="display:flex; gap:4px;">
           <span class="box" id="cdDays" style="display:none">00d</span>
           <span class="box" id="cdHours">00</span>:
           <span class="box" id="cdMinutes">00</span>:
           <span class="box" id="cdSeconds">00</span>
        </div>
      </div>
    </div>
  </header>

  <div id="home" class="content-section active">
      <div class="hero-events fadeIn">
        <div class="hero-card svs" id="svs-card">
          <div class="hero-title">âš”ï¸ NEXT SVS WAR</div>
          <div id="svs-date-display" class="hero-date">Loading...</div>
          <div id="svs-timer" class="hero-timer">00d 00h 00m 00s</div>
        </div>
        <div class="hero-card sfc" id="sfc-card">
          <div class="hero-title">ğŸ° NEXT SFC</div>
          <div id="sfc-date-display" class="hero-date">Loading...</div>
          <div id="sfc-timer" class="hero-timer">00d 00h 00m 00s</div>
        </div>
      </div>

      <div class="card fadeIn delay1" style="margin-top: 12px;">
        <h2 data-i18n="majorAlliance">Major Alliance</h2>
        <div class="alliances-list">
          <div class="alliance kor">ğŸŸ¦ VLN</div>
          <div class="alliance grd">ğŸŸ© GRD</div>
          <div class="alliance bee">ğŸŸ¨ BEE</div>
          <div class="alliance tur">ğŸŸ¥ TUR</div>
          <div class="alliance wbe">ğŸŸ§ WBE</div>
          <div class="alliance hel">ğŸŸª HEL</div>
        </div>
        <p class="caption" data-i18n="napCaption">NAP based on SVS Prep Contribution...</p>
        <div class="actions">
          <a class="btn neon" href="https://discord.gg/mBVUKFVC7C" target="_blank" data-i18n="joinDiscord">ğŸ’¬ Join Discord</a>
          <a class="btn" href="https://docs.google.com/forms/d/e/1FAIpQLScjYq6pLm8E2L5OLPgkGcsxk7Bxj1WlR2aC24lfJs83KOkLQw/viewform?usp=header" target="_blank" data-i18n="registerSVS">ğŸ“‹ Daftar SVS</a>
        </div>
      </div>

      <div class="card fadeIn delay2" style="margin-top:12px;">
        <h2 data-i18n="shortInstructions">Short Instructions</h2>
        <ul style="padding-left:18px;color:var(--muted);margin:6px 0 0 0">
          <li data-i18n-html="instUtc">All times <strong>UTC</strong>.</li>
          <li>ğŸ“… <span data-i18n="serverAgeLabel">Server Age</span>: <span id="server-age" style="color:#ff4d4d; font-weight:bold;">...</span> <span data-i18n="daysLabel">days</span></li>
          <li data-i18n="instBT">ğŸ» = Bear Trap (BT)</li>
          <li data-i18n="instCJ">ğŸ¤  = Crazy Joe (CJ)</li>
          <li data-i18n="instDiscord">Use Discord for SVS coordination</li>
        </ul>
      </div>

      <div class="card fadeIn delay1">
        <h2 data-i18n="scheduleTitle">Schedule Event (UTC)</h2>
        <button class="accordion" data-target="kor-panel">
          <div class="left"><span class="alias kor">VLN</span><div class="alias kor" style="margin-left:6px"><span data-i18n="rolePrimary">â€” primary</span></div></div>
          <div class="chev">â–¸</div>
        </button>
        <div id="kor-panel" class="panel">
          <div class="event-row"><div class="event-name"><span data-i18n="evBearTrap">ğŸ» Bear Trap</span></div><div class="event-time">13:30 & 15:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evFoundry">ğŸ­ Foundry</span></div><div class="event-time">12:00 & 14:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evCanyon">ğŸï¸ Canyon</span></div><div class="event-time">12:00 & 14:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evCrazyJoe">ğŸ¤  Crazy Joe</span></div><div class="event-time">12:30</div></div>
        </div>

        <button class="accordion" data-target="grd-panel">
          <div class="left"><span class="alias grd">GRD</span><div class="alias grd" style="margin-left:6px"><span data-i18n="roleSupport">â€” support</span></div></div>
          <div class="chev">â–¸</div>
        </button>
        <div id="grd-panel" class="panel">
          <div class="event-row"><div class="event-name"><span data-i18n="evBearTrap">ğŸ» Bear Trap</span></div><div class="event-time">14:00 & 16:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evFoundry">ğŸ­ Foundry</span></div><div class="event-time">12:00 & 14:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evCanyon">ğŸï¸ Canyon</span></div><div class="event-time">12:00 & 14:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evCrazyJoe">ğŸ¤  Crazy Joe</span></div><div class="event-time">13:00 & 14:00</div></div>
        </div>

        <button class="accordion" data-target="bee-panel">
          <div class="left"><span class="alias bee">BEE</span><div class="alias bee" style="margin-left:6px"><span data-i18n="roleFrontline">â€” frontline</span></div></div>
          <div class="chev">â–¸</div>
        </button>
        <div id="bee-panel" class="panel">
          <div class="event-row"><div class="event-name"><span data-i18n="evBearTrap">ğŸ» Bear Trap</span></div><div class="event-time">17:00 & 19:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evFoundry">ğŸ­ Foundry</span></div><div class="event-time">14:00 & 19:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evCanyon">ğŸï¸ Canyon</span></div><div class="event-time">12:00 & 19:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evCrazyJoe">ğŸ¤  Crazy Joe</span></div><div class="event-time">16:40 & 17:40</div></div>
        </div>

        <button class="accordion" data-target="tur-panel">
          <div class="left"><span class="alias tur">TUR</span><div class="alias tur" style="margin-left:6px"><span data-i18n="roleNight">â€” night ops</span></div></div>
          <div class="chev">â–¸</div>
        </button>
        <div id="tur-panel" class="panel">
          <div class="event-row"><div class="event-name"><span data-i18n="evBearTrap">ğŸ» Bear Trap</span></div><div class="event-time">13:30 & 19:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evFoundry">ğŸ­ Foundry</span></div><div class="event-time">14:00 & 19:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evCanyon">ğŸï¸ Canyon</span></div><div class="event-time">19:00 & 21:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evCrazyJoe">ğŸ¤  Crazy Joe</span></div><div class="event-time">19:00</div></div>
        </div>
        
        <button class="accordion" data-target="wbe-panel">
          <div class="left"><span class="alias wbe">WBE</span><div class="alias wbe" style="margin-left:6px"><span data-i18n="roleWbe">â€” tactical</span></div></div>
          <div class="chev">â–¸</div>
        </button>
        <div id="wbe-panel" class="panel">
          <div class="event-row"><div class="event-name"><span data-i18n="evBearTrap">ğŸ» Bear Trap</span></div><div class="event-time">19:00 & 21:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evFoundry">ğŸ­ Foundry</span></div><div class="event-time">14:00 & 19:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evCanyon">ğŸï¸ Canyon</span></div><div class="event-time">14:00 & 19:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evCrazyJoe">ğŸ¤  Crazy Joe</span></div><div class="event-time">20:00</div></div>
        </div>

        <button class="accordion" data-target="hel-panel">
          <div class="left"><span class="alias hel">HEL</span><div class="alias hel" style="margin-left:6px"><span data-i18n="roleHel">â€” academy</span></div></div>
          <div class="chev">â–¸</div>
        </button>
        <div id="hel-panel" class="panel">
          <div class="event-row"><div class="event-name"><span data-i18n="evBearTrap">ğŸ» Bear Trap</span></div><div class="event-time">19:00 & 21:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evFoundry">ğŸ­ Foundry</span></div><div class="event-time">14:00 & 19:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evCanyon">ğŸï¸ Canyon</span></div><div class="event-time">14:00 & 19:00</div></div>
          <div class="event-row"><div class="event-name"><span data-i18n="evCrazyJoe">ğŸ¤  Crazy Joe</span></div><div class="event-time">20:00</div></div>
        </div>
        <p class="caption" data-i18n-html="accordionHint">Click on the alliance name...</p>
      </div>

      <div class="card fadeIn delay3" style="margin-top:12px;">
          <h2 style="color:var(--neon);" data-i18n="mapTitle">ğŸ¤ Territory Map</h2>
          <p style="font-size: 0.85em; color:var(--muted); margin-bottom:15px;">
              Auto: <span style="color:#00ff88">[GRD]</span> / <span style="color:#58a6ff">[VLN]</span> / <span style="color:#ff5c5c">[TUR]</span> / <span style="color:#fff24f">[BEE]</span> / <span style="color:#FF9F43">[WBE]</span> / <span style="color:#D6A2E8">[HEL]</span>
          </p>
          <h3 style="font-size:14px; border-left: 3px solid var(--accent); padding-left: 10px; margin-bottom: 10px; margin-top:0;">ğŸ° Strongholds</h3>
          <div id="stronghold-list" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px;"></div>
          <h3 style="font-size:14px; border-left: 3px solid #ff4d4d; padding-left: 10px; margin-bottom: 10px; margin-top:20px;">ğŸ›¡ï¸ Fortresses</h3>
          <div id="fortress-list" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px;"></div>
      </div>
  </div>     
  <div id="wiki" class="content-section"> 
      <div class="card fadeIn delay2" style="margin-top:12px;">
        <h2 data-i18n="stratTitle">ğŸ“š Strategy Guide</h2>
        
        <div style="margin-top:10px;">
          <h3 style="font-size:15px; color:var(--neon); margin:0 0 10px 0;" data-i18n="btTitle">ğŸ» Bear Trap</h3>
          <div style="font-size:13px; color:var(--muted); line-height: 1.5;">
            <strong style="color:#fff; display:block; margin-bottom:4px;" data-i18n="btLeaderTitle">ğŸ‘‘ Calling Rallies</strong>
            <ul style="margin:0 0 8px 18px; padding:0;">
              <li data-i18n="btLeaderDesc">Top 3 strongest heroes</li>
            </ul>
            <strong style="color:#fff; display:block; margin-bottom:4px;" data-i18n="btJoinerTitle">ğŸ›¡ï¸ Joining Rallies</strong>
            <ul style="margin:0 0 0 18px; padding:0;">
              <li style="margin-bottom:4px;">
                <span data-i18n="btJoinerReq">Heroes must be at least:</span><br>
                <span style="color:#FFD700">â˜…â˜…â˜…â˜…</span> Jesse, Jasser, Seo Yoon, Gwen<br>
                <span style="color:#C0C0C0">â˜…â˜…â˜…</span> Reina, Jeronimo
              </li>
              <li style="margin-bottom:4px;" data-i18n="btJoinerEmpty">Send NO HEROES if out of list.</li>
              <li data-i18n="btJoinerPresave">Use presave buttons.</li>
            </ul>
          </div>
        </div>

        <div style="margin-top:15px; padding-top:15px; border-top:1px solid rgba(255,255,255,0.1);">
          <h3 style="font-size:15px; color:var(--neon); margin:0 0 10px 0;" data-i18n="cjTitle">ğŸ¤  Crazy Joe</h3>
          <div style="font-size:13px; color:var(--muted); line-height: 1.5;">
            <strong style="color:#fff; display:block; margin-bottom:4px;" data-i18n="cjPrepTitle">ğŸ› ï¸ Preparation</strong>
            <ul style="margin:0 0 10px 18px; padding:0;">
              <li data-i18n="cjPrep1">Coordination: Discuss targets.</li>
              <li data-i18n="cjPrep2">Clear City: Reinforce allies (Zero Defense).</li>
              <li data-i18n="cjPrep3">Buffs: Use Damage/Defense buffs.</li>
            </ul>
            <strong style="color:#fff; display:block; margin-bottom:4px;" data-i18n="cjActionTitle">âš”ï¸ During Event</strong>
            <ul style="margin:0 0 10px 18px; padding:0;">
              <li data-i18n="cjAction1">Troop Swap: Reinforce online allies.</li>
              <li data-i18n="cjAction2">Infantry & Lancers give max points.</li>
              <li data-i18n="cjAction3">HQ Def: Strongest heroes home for Wave 10 & 20.</li>
            </ul>
            <div style="background:rgba(255, 77, 77, 0.1); border:1px solid rgba(255, 77, 77, 0.3); padding:8px; border-radius:6px;">
              <strong style="color:#ff4d4d; font-size:12px;" data-i18n="cjDontTitle">ğŸš« Key "Don'ts"</strong>
              <ul style="margin:4px 0 0 18px; padding:0; font-size:12px; color:#ffcccc;">
                <li data-i18n="cjDont1" style="margin-bottom:4px;">Don't Heal Troops (steals points).</li>
                <li data-i18n="cjDont2">Don't Keep Troops Home (early on).</li>
              </ul>
            </div>
          </div>
        </div>

        <div style="margin-top:15px; padding-top:15px; border-top:1px solid rgba(255,255,255,0.1);">
          <h3 style="font-size:15px; color:var(--neon); margin:0 0 10px 0;" data-i18n="svsTitle">âš”ï¸ SVS Strategy</h3>
          <div style="font-size:13px; color:var(--muted); line-height: 1.5;">
            
            <strong style="color:#fff; display:block; margin-bottom:4px;" data-i18n="svsPrepTitle">ğŸ› ï¸ Prep Phase (Days 1-5)</strong>
            <p style="margin:0 0 8px 0; font-style:italic; color:#eaf5ff;" data-i18n="svsSave">âš ï¸ SAVE everything (speedups/resources) for this week!</p>
            <ul style="margin:0 0 10px 18px; padding:0;">
              <li><strong style="color:var(--neon)">Day 1:</strong> <span data-i18n="svsD1">Construction, Research, Fire Crystals.</span></li>
              <li><strong style="color:var(--neon)">Day 2:</strong> <span data-i18n="svsD2">Train Troops, Chief Gear/Charms.</span></li>
              <li><strong style="color:var(--neon)">Day 3:</strong> <span data-i18n="svsD3">Beasts, Polar Terrors (30k pts).</span></li>
              <li><strong style="color:var(--neon)">Day 4:</strong> <span data-i18n="svsD4">Train Troops, Use Intel.</span></li>
              <li><strong style="color:var(--neon)">Day 5:</strong> <span data-i18n="svsD5">All-Out! Use remaining speedups/shards.</span></li>
              <li style="margin-top:4px;" data-i18n="svsBuffTip">ğŸ’¡ Tip: Use Buffs before using speedups.</li>
            </ul>

            <strong style="color:#fff; display:block; margin-bottom:4px;" data-i18n="svsBattleTitle">ğŸ›¡ï¸ Battle Phase</strong>
            <ul style="margin:0 0 0 18px; padding:0;">
              <li style="margin-bottom:4px;" data-i18n="svsShield"><strong>Shield Up:</strong> Protect resources & troops.</li>
              <li style="margin-bottom:4px;" data-i18n="svsRally"><strong>Rally vs Solo:</strong> Don't attack alone. Minimize losses.</li>
              <li data-i18n="svsOrders"><strong>Follow Orders:</strong> Listen to leadership on targets.</li>
            </ul>

          </div>
        </div>
               <div style="margin-top:15px; padding-top:15px; border-top:1px solid rgba(255,255,255,0.1);">
          <h3 style="font-size:15px; color:var(--neon); margin:0 0 10px 0;" data-i18n="fnfTitle">ğŸ”¥ Flame and Fangs</h3>
          <div style="font-size:13px; color:var(--muted); line-height: 1.5;">
            <p style="margin:0 0 8px 0; color:#eaf5ff; font-style:italic;" data-i18n="fnfDesc">Prepare for Monday to get max loot.</p>
            <ul style="margin:0 0 0 18px; padding:0;"><li style="margin-bottom:8px;" data-i18n-html="fnfStep1"> <strong>Sun 08:00-15:59 UTC:</strong> Do intels but don't claim.
            </li>
               <li style="margin-bottom:8px;" data-i18n-html="fnfStep2"> <strong>Sun 16:00 - Mon 00:00 UTC:</strong> Don't touch intels.
             </li>
                 <li data-i18n-html="fnfStep3"> <strong>Mon 00:00-07:59 UTC:</strong> Claim & complete all intels.
                 </li>
            </ul>
          </div>
        </div>

      </div>
  </div>         
  <div id="tools" class="content-section">
      
      <div class="card fadeIn delay1">
        <h2 data-i18n="fcTitle">ğŸ”¥ FC Estimator</h2>
        <p style="font-size:12px; color:#aaa; margin-top:0;" data-i18n="fcDesc">Calculate Fire Crystals needed (Full Buildings).</p>
        
        <label style="font-size:12px; display:block; margin-top:8px;">Current Level:</label>
        <select id="fc-current" class="calc-input">
            <option value="0">FC 0</option>
            <option value="1">FC 1</option>
            <option value="2">FC 2</option>
            <option value="3">FC 3</option>
            <option value="4">FC 4</option>
            <option value="5">FC 5</option>
            <option value="6">FC 6</option>
            <option value="7">FC 7</option>
            <option value="8">FC 8</option>
            <option value="9">FC 9</option>
        </select>

        <label style="font-size:12px; display:block; margin-top:8px;">Target Level:</label>
        <select id="fc-target" class="calc-input">
            <option value="1">FC 1</option>
            <option value="2">FC 2</option>
            <option value="3">FC 3</option>
            <option value="4">FC 4</option>
            <option value="5">FC 5</option>
            <option value="6">FC 6</option>
            <option value="7">FC 7</option>
            <option value="8">FC 8</option>
            <option value="9">FC 9</option>
            <option value="10">FC 10</option>
        </select>
        
        <button class="btn" onclick="calculateFC()" style="width:100%; margin-top:10px;">Hitung / Calculate</button>
        <div id="result-calc" style="margin-top:15px; background:rgba(0,0,0,0.2); padding:10px; border-radius:8px; display:none;"></div>
      </div>

      <div class="card fadeIn delay1" style="margin-top:12px;">
        <h2 data-i18n="cgTitle">ğŸ›¡ï¸ Chief Gear Calculator</h2>
        <p style="font-size:12px; color:#aaa; margin-top:0;" data-i18n="cgDesc">Hitung Alloy, Polish, Plans & Amber.</p>
        
        <div style="display:flex; gap:10px;">
            <div style="flex:1;">
                <label style="font-size:12px; display:block; margin-top:8px;">Current Level:</label>
                <select id="cg-current" class="calc-input"></select>
            </div>
            <div style="flex:1;">
                <label style="font-size:12px; display:block; margin-top:8px;">Target Level:</label>
                <select id="cg-target" class="calc-input"></select>
            </div>
        </div>

        <div style="margin-top:10px; display:flex; align-items:center; justify-content:space-between; background:rgba(255,255,255,0.05); padding:8px; border-radius:8px;">
            <label style="font-size:12px; color:#ddd;">Gear Count:</label>
            <div style="display:flex; gap:12px;">
                <label style="font-size:12px; cursor:pointer;">
                    <input type="radio" name="cg-piece" value="1"> 1 Piece
                </label>
                <label style="font-size:12px; cursor:pointer;">
                    <input type="radio" name="cg-piece" value="6" checked> Full Set (6)
                </label>
            </div>
        </div>
        <button class="btn" onclick="calculateChiefGear()" style="width:100%; margin-top:10px;">Hitung / Calculate</button>
        <div id="result-cg" style="margin-top:15px; background:rgba(0,0,0,0.2); padding:10px; border-radius:8px; display:none;"></div>
      </div>
            <div class="card fadeIn delay1" style="margin-top:12px;">
        <h2 data-i18n="charmTitle">ğŸ§¿ Chief Charm Calculator</h2>
        <p style="font-size:12px; color:#aaa; margin-top:0;" data-i18n="charmDesc">Calculate Guides, Designs & Secrets.</p>
        
        <div style="display:flex; gap:10px;">
            <div style="flex:1;">
                <label style="font-size:12px; display:block; margin-top:8px;">Current Level:</label>
                <select id="charm-current" class="calc-input"></select>
            </div>
            <div style="flex:1;">
                <label style="font-size:12px; display:block; margin-top:8px;">Target Level:</label>
                <select id="charm-target" class="calc-input"></select>
            </div>
        </div>

        <button class="btn" onclick="calculateCharms()" style="width:100%; margin-top:10px;">Hitung / Calculate</button>
        <div id="result-charm" style="margin-top:15px; background:rgba(0,0,0,0.2); padding:10px; border-radius:8px; display:none;"></div>
      </div>
      <div class="card" style="margin-top:12px;">
        <h2 data-i18n="calcTitle">ğŸ§® Points Calculator SVS</h2>
        <p style="color:var(--muted); font-size:13px; margin-top:0; margin-bottom:12px;" data-i18n="calcDesc">If you want to calculate...</p>
        <a class="btn neon" href="https://wostools.net/svs-calculator" target="_blank" data-i18n="calcBtn">ğŸ–±ï¸Visit Calculator SVS</a>
      </div>
</div>
  <div id="hof" class="content-section">
      <div class="card">
         <h2 data-i18n="hofTitle">ğŸ† Hall of Fame</h2>
         <p style="font-size:12px; color:#aaa;" data-i18n="hofDesc">Top players this week</p>
         
         <div class="hof-grid">
             <div class="hof-card">
                 <span class="crown">ğŸ‘‘</span>
                 <span class="hof-name">Mr.jhon</span>
                 <span class="hof-desc">Top Power</span>
             </div>
             <div class="hof-card">
                 <span class="crown">ğŸ’€</span>
                 <span class="hof-name">Player X</span>
                 <span class="hof-desc">Top Kills</span>
             </div>
             <div class="hof-card">
                 <span class="crown">ğŸ’</span>
                 <span class="hof-name">Mochi</span>
                 <span class="hof-desc">Top Contrib</span>
             </div>
         </div>
      </div>
  </div>

  <footer style="margin-top:16px;text-align:center;color:var(--muted);font-size:13px">Â© 2025 STATE 1931 â€¢ By Mr.jhon</footer>
</div>

<nav class="nav-bar fadeIn delay4">
    <div class="nav-item active" onclick="switchTab('home', this)">
        <span class="nav-icon">ğŸ </span> <span data-i18n="navHome">Home</span>
    </div>
    <div class="nav-item" onclick="switchTab('wiki', this)">
        <span class="nav-icon">ğŸ“–</span> <span data-i18n="navWiki">Wiki</span>
    </div>
    <div class="nav-item" onclick="switchTab('tools', this)">
        <span class="nav-icon">ğŸ› ï¸</span> <span data-i18n="navTools">Tools</span>
    </div>
    <div class="nav-item" onclick="switchTab('hof', this)">
        <span class="nav-icon">ğŸ†</span> <span data-i18n="navHof">Fame</span>
    </div>
</nav>
<script>
    // DATA PEMILIK WILAYAH (Edit di sini setiap minggu)
    const strongholds = ["[GRD]", "[VLN]", "[VLN]", "[BEE]"];
    const fortresses = [
        "[VLN]", "[GRD]", "[GRD]", 
        "[VLN]", "[BEE]", "[BEE]", 
        "[TUR]", "[WBE]", "[IDN]", 
        "[TOP]", "[TOP]", "[HEL]"
    ];
    function renderMap(list, containerId, prefix) {
        const container = document.getElementById(containerId);
        if(!container) return;
        container.innerHTML = "";
        list.forEach((tag, index) => {
            let cssClass = "ally"; 
            let textTag = tag.toUpperCase(); 
            if (textTag.includes("GRD")) { cssClass = "grd"; }
            else if (textTag.includes("VLN")) { cssClass = "vln"; }
            else if (textTag.includes("BEE")) { cssClass = "bee"; }
            else if (textTag.includes("TUR")) { cssClass = "tur"; }
            else if (textTag.includes("WBE")) { cssClass = "wbe"; }
            else if (textTag.includes("HEL")) { cssClass = "hel"; }
            container.innerHTML += `<div class="fort ${cssClass}"><span class="f-name">${prefix}-${index + 1}</span><span class="f-owner">${tag}</span></div>`;
        });
    }
    window.addEventListener("load", function() { renderMap(strongholds, "stronghold-list", "S"); renderMap(fortresses, "fortress-list", "F"); });
</script>

<script>
/* 1. I18N SYSTEM (UPDATED 3 LANGUAGES) */
window.currentLang = 'en';
const i18n = {
  en: { 
    subtitle: "Whiteout Survival â€” info & schedule (UTC)", 
    nextLabel: "Next event", 
    majorAlliance: "Major Alliance", 
    napCaption: "NAP based on SVS Prep Contribution. Shared castle/forts + 20% fortress buff rewards.", 
    joinDiscord: "ğŸ’¬ Join Discord", 
    registerSVS: "ğŸ“‹ Register SVS", 
    shortInstructions: "Short Instructions", 
    instUtc: "All times <strong>UTC</strong>.", 
    instBT: "ğŸ» = Bear Trap (BT)", 
    instCJ: "ğŸ¤  = Crazy Joe (CJ)", 
    instDiscord: "Use Discord for SVS coordination", 
    scheduleTitle: "Schedule Event (UTC)", 
    rolePrimary: "â€” primary", 
    roleSupport: "â€” support", 
    roleFrontline: "â€” frontline", 
    roleNight: "â€” night ops",
    roleWbe: "â€” tactical",
    roleHel: "â€” academy",
    evBearTrap: "ğŸ» Bear Trap", 
    evFoundry: "ğŸ­ Foundry", 
    evCanyon: "ğŸï¸ Canyon", 
    evCrazyJoe: "ğŸ¤  Crazy Joe", 
    accordionHint: "Click on the alliance name to expand/collapse details. All times are <strong>UTC</strong>.", 
    calcTitle: "ğŸ§® Points Calculator SVS", 
    calcDesc: "If you want to calculate how many points you can collect from the materials you have saved, please visit this website:", 
    calcBtn: "ğŸ–±ï¸Visit Calculator SVS",
    serverAgeLabel: "Server Age",
    daysLabel: "days",
    // STRATEGY GUIDE
    stratTitle: "ğŸ“š Strategy Guide",
    // BT
    btTitle: "ğŸ» Bear Trap",
    btLeaderTitle: "ğŸ‘‘ Calling Rallies",
    btLeaderDesc: "Top 3 strongest heroes.",
    btJoinerTitle: "ğŸ›¡ï¸ Joining Rallies",
    btJoinerReq: "Heroes must be at least:",
    btJoinerEmpty: "Send NO HEROES if out of list.",
    btJoinerPresave: "Use presave buttons.",
    // CJ
    cjTitle: "ğŸ¤  Crazy Joe",
    cjPrepTitle: "ğŸ› ï¸ Preparation",
    cjPrep1: "Coordination: Discuss targets.",
    cjPrep2: "Clear City: Reinforce allies (Zero Defense).",
    cjPrep3: "Buffs: Use Damage/Defense buffs.",
    cjActionTitle: "âš”ï¸ During Event",
    cjAction1: "Troop Swap: Reinforce online allies.",
    cjAction2: "Infantry & Lancers give max points.",
    cjAction3: "HQ Def: Strongest heroes home for Wave 10 & 20.",
    cjDontTitle: "ğŸš« Key \"Don'ts\"",
    cjDont1: "Don't Heal Troops (steals points).",
    cjDont2: "Don't Keep Troops Home (early on).",
    // SVS
    svsTitle: "âš”ï¸ SVS Strategy",
    svsPrepTitle: "ğŸ› ï¸ Prep Phase (Days 1-5)",
    svsSave: "âš ï¸ SAVE everything (speedups/resources) for this week!",
    svsD1: "Construction, Research, Fire Crystals.",
    svsD2: "Train Troops, Chief Gear/Charms.",
    svsD3: "Beasts, Polar Terrors (30k pts).",
    svsD4: "Train Troops, Use Intel.",
    svsD5: "All-Out! Use remaining speedups/shards.",
    svsBuffTip: "ğŸ’¡ Tip: Use Buffs before using speedups.",
    svsBattleTitle: "ğŸ›¡ï¸ Battle Phase",
    svsShield: "Shield Up: Protect resources & troops.",
    svsRally: "Rally vs Solo: Don't attack alone.",
    svsOrders: "Follow Orders: Listen to leadership.",
    // FLAME AND FANGS
    fnfTitle: "ğŸ”¥ Flame and Fangs",
    fnfDesc: "Prepare for Monday to get max loot.",
    fnfStep1: "<strong>Sun 08:00-15:59 UTC:</strong> Do intels but DON'T claim.",
    fnfStep2: "<strong>Sun 16:00 - Mon 00:00 UTC:</strong> Don't touch intels.",
    fnfStep3: "<strong>Mon 00:00-07:59 UTC:</strong> Claim & complete all intels."
  },
  id: { 
    subtitle: "Whiteout Survival â€” info & jadwal (UTC)", 
    nextLabel: "Event berikutnya", 
    majorAlliance: "Aliansi Utama", 
    napCaption: "NAP berdasarkan kontribusi persiapan SVS. Kastil/fort berbagi + hadiah buff benteng 20%.", 
    joinDiscord: "ğŸ’¬ Gabung Discord", 
    registerSVS: "ğŸ“‹ Daftar SVS", 
    shortInstructions: "Instruksi Singkat", 
    instUtc: "Semua waktu <strong>UTC</strong>.", 
    instBT: "ğŸ» = Bear Trap (BT)", 
    instCJ: "ğŸ¤  = Crazy Joe (CJ)", 
    instDiscord: "Gunakan Discord untuk koordinasi SVS", 
    scheduleTitle: "Jadwal Event (UTC)", 
    rolePrimary: "â€” utama", 
    roleSupport: "â€” dukungan", 
    roleFrontline: "â€” garis depan", 
    roleNight: "â€” operasi malam", 
    roleWbe: "â€” taktis",
    roleHel: "â€” akademi",
    evBearTrap: "ğŸ» Bear Trap", 
    evFoundry: "ğŸ­ Foundry", 
    evCanyon: "ğŸï¸ Canyon", 
    evCrazyJoe: "ğŸ¤  Crazy Joe", 
    accordionHint: "Klik nama aliansi untuk expand/collapse detail. Semua waktu dalam <strong>UTC</strong>.", 
    calcTitle: "ğŸ§® Kalkulator Poin SVS", 
    calcDesc: "Kalau mau hitung poin dari material yang sudah disimpan, kunjungi situs ini:", 
    calcBtn: "ğŸ–±ï¸Kunjungi Kalkulator SVS",
    serverAgeLabel: "Umur Server",
    daysLabel: "hari",
    // STRATEGY GUIDE
    stratTitle: "ğŸ“š Panduan Strategi",
    // BT
    btTitle: "ğŸ» Bear Trap",
    btLeaderTitle: "ğŸ‘‘ Memimpin Rally",
    btLeaderDesc: "Gunakan 3 Hero terkuat.",
    btJoinerTitle: "ğŸ›¡ï¸ Bergabung Rally",
    btJoinerReq: "Hero wajib minimal:",
    btJoinerEmpty: "Kirim TANPA HERO jika list habis.",
    btJoinerPresave: "Gunakan tombol presave.",
    // CJ
    cjTitle: "ğŸ¤  Crazy Joe",
    cjPrepTitle: "ğŸ› ï¸ Persiapan",
    cjPrep1: "Koordinasi: Bahas target.",
    cjPrep2: "Kosongkan Kota: Reinforce teman (Zero Defense).",
    cjPrep3: "Buff: Gunakan buff Damage/Defense.",
    cjActionTitle: "âš”ï¸ Selama Event",
    cjAction1: "Tukar Pasukan: Reinforce teman yg online.",
    cjAction2: "Gunakan Infanteri & Lancer (poin maks).",
    cjAction3: "Def HQ: Hero terkuat di rumah utk Wave 10 & 20.",
    cjDontTitle: "ğŸš« Jangan Lakukan",
    cjDont1: "JANGAN Heal Pasukan (mencuri poin).",
    cjDont2: "JANGAN Simpan Pasukan di rumah (awal).",
    // SVS
    svsTitle: "âš”ï¸ Strategi SVS",
    svsPrepTitle: "ğŸ› ï¸ Fase Persiapan (Hari 1-5)",
    svsSave: "âš ï¸ SIMPAN semuanya (speedup/SDA) utk minggu ini!",
    svsD1: "Konstruksi, Riset, Fire Crystal.",
    svsD2: "Latih Pasukan, Chief Gear/Charms.",
    svsD3: "Beast, Polar Terror (30k poin).",
    svsD4: "Latih Pasukan, Pakai Intel.",
    svsD5: "Habis-habisan! Pakai sisa speedup/shards.",
    svsBuffTip: "ğŸ’¡ Tip: Aktifkan Buff sebelum pakai speedup.",
    svsBattleTitle: "ğŸ›¡ï¸ Fase Pertempuran",
    svsShield: "Pasang Shield: Lindungi SDA & pasukan.",
    svsRally: "Rally vs Solo: Jangan serang sendiri.",
    svsOrders: "Ikuti Perintah: Dengar arahan R4/R5.",
    // FLAME AND FANGS
    fnfTitle: "ğŸ”¥ Flame and Fangs",
    fnfDesc: "Persiapan hari Senin untuk jarahan maksimal.",
    fnfStep1: "<strong>Minggu 08:00-15:59 UTC:</strong> Kerjakan intel tapi JANGAN klaim.",
    fnfStep2: "<strong>Minggu 16:00 - Senin 00:00 UTC:</strong> Jangan sentuh intel.",
    fnfStep3: "<strong>Senin 00:00-07:59 UTC:</strong> Klaim & selesaikan semua intel."
  },
  ko: { 
    subtitle: "í™”ì´íŠ¸ì•„ì›ƒ ì„œë°”ì´ë²Œ â€” ì •ë³´ & ì¼ì • (UTC)", 
    nextLabel: "ë‹¤ìŒ ì´ë²¤íŠ¸", 
    majorAlliance: "ì£¼ìš” ë™ë§¹", 
    napCaption: "SVS ì¤€ë¹„ ê¸°ì—¬ë„ ê¸°ì¤€ NAP. ì„±/ìš”ìƒˆ ê³µìœ  + ìš”ìƒˆ ë²„í”„ ë³´ìƒ 20%.", 
    joinDiscord: "ğŸ’¬ ë””ìŠ¤ì½”ë“œ ì°¸ì—¬", 
    registerSVS: "ğŸ“‹ SVS ë“±ë¡", 
    shortInstructions: "ê°„ë‹¨í•œ ì§€ì¹¨", 
    instUtc: "ëª¨ë“  ì‹œê°„ì€ <strong>UTC</strong> ê¸°ì¤€ì…ë‹ˆë‹¤.", 
    instBT: "ğŸ» = ë² ì–´ íŠ¸ë© (BT)", 
    instCJ: "ğŸ¤  = í¬ë ˆì´ì§€ ì¡° (CJ)", 
    instDiscord: "SVS ì¡°ìœ¨ì€ ë””ìŠ¤ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì„¸ìš”", 
    scheduleTitle: "ì´ë²¤íŠ¸ ì¼ì • (UTC)", 
    rolePrimary: "â€” ì£¼ë ¥", 
    roleSupport: "â€” ì§€ì›", 
    roleFrontline: "â€” ì „ì„ ", 
    roleNight: "â€” ì•¼ê°„ ì‘ì „", 
    roleWbe: "â€” ì „ìˆ ",
    roleHel: "â€” ì•„ì¹´ë°ë¯¸",
    evBearTrap: "ğŸ» ë² ì–´ íŠ¸ë©", 
    evFoundry: "ğŸ­ ì£¼ì¡°ì†Œ", 
    evCanyon: "ğŸï¸ í˜‘ê³¡", 
    evCrazyJoe: "ğŸ¤  í¬ë ˆì´ì§€ ì¡°", 
    accordionHint: "ë™ë§¹ ì´ë¦„ì„ í´ë¦­í•˜ì—¬ ìì„¸íˆ ë³´ê¸°/ì ‘ê¸°. ëª¨ë“  ì‹œê°„ì€ <strong>UTC</strong>ì…ë‹ˆë‹¤.", 
    calcTitle: "ğŸ§® SVS í¬ì¸íŠ¸ ê³„ì‚°ê¸°", 
    calcDesc: "ì €ì¥í•´ë‘” ì¬ë£Œë¡œ ì–»ì„ í¬ì¸íŠ¸ë¥¼ ê³„ì‚°í•˜ë ¤ë©´ ì•„ë˜ ì›¹ì‚¬ì´íŠ¸ë¥¼ ë°©ë¬¸í•˜ì„¸ìš”:", 
    calcBtn: "ğŸ–±ï¸ SVS ê³„ì‚°ê¸° ë°©ë¬¸",
    serverAgeLabel: "ì„œë²„ ì˜¤í”ˆ",
    daysLabel: "ì¼ì§¸",
    // STRATEGY GUIDE
    stratTitle: "ğŸ“š ì „ëµ ê°€ì´ë“œ",
    // BT
    btTitle: "ğŸ» ë² ì–´ íŠ¸ë©",
    btLeaderTitle: "ğŸ‘‘ ì§‘ê²° ì—´ê¸°",
    btLeaderDesc: "ìƒìœ„ 3ëª… ê°•ë ¥í•œ ì˜ì›… ì‚¬ìš©.",
    btJoinerTitle: "ğŸ›¡ï¸ ì§‘ê²° ì°¸ì—¬",
    btJoinerReq: "ì˜ì›… ìµœì†Œ ì¡°ê±´:",
    btJoinerEmpty: "ì˜ì›…ì´ ì—†ë‹¤ë©´ ì—†ì´ ë³´ë‚´ì„¸ìš”.",
    btJoinerPresave: "í”„ë¦¬ì…‹ ë²„íŠ¼ ì‚¬ìš©.",
    // CJ
    cjTitle: "ğŸ¤  í¬ë ˆì´ì§€ ì¡°",
    cjPrepTitle: "ğŸ› ï¸ ì¤€ë¹„",
    cjPrep1: "ì¡°ìœ¨: ë³‘ë ¥ ì¤‘ë³µ ë°©ì§€.",
    cjPrep2: "ë„ì‹œ ë¹„ìš°ê¸°: ë§¹ì› ì§€ì› (ë¬´ë°©ë¹„ ì „ëµ).",
    cjPrep3: "ë²„í”„: ê³µê²©/ë°©ì–´ ë²„í”„ ì‚¬ìš©.",
    cjActionTitle: "âš”ï¸ ì´ë²¤íŠ¸ ì§„í–‰",
    cjAction1: "ë³‘ë ¥ êµí™˜: ì ‘ì† ë§¹ì› ì§€ì›.",
    cjAction2: "ë³´ë³‘ & ì°½ë³‘ ì‚¬ìš© (ì ìˆ˜ ìµœëŒ€í™”).",
    cjAction3: "ë³¸ë¶€ ë°©ì–´: ì›¨ì´ë¸Œ 10 & 20ì—” ìµœê°• ì˜ì›… ë°°ì¹˜.",
    cjDontTitle: "ğŸš« ê¸ˆì§€ ì‚¬í•­",
    cjDont1: "ì¹˜ë£Œ ê¸ˆì§€ (ì ìˆ˜ ëºê¹€).",
    cjDont2: "ì´ˆë°˜ ë³‘ë ¥ ë³¸ë¶€ ëŒ€ê¸° ê¸ˆì§€.",
    // SVS
    svsTitle: "âš”ï¸ SVS ì „ëµ",
    svsPrepTitle: "ğŸ› ï¸ ì¤€ë¹„ ë‹¨ê³„ (1-5ì¼ì°¨)",
    svsSave: "âš ï¸ ëª¨ë“  ìì›/ê°€ì†ì„ ì´ë²ˆ ì£¼ë¥¼ ìœ„í•´ ì•„ë¼ì„¸ìš”!",
    svsD1: "ê±´ì„¤, ì—°êµ¬, ë¶ˆì˜ ìˆ˜ì •(FC).",
    svsD2: "ë³‘ë ¥ í›ˆë ¨, ì˜ì£¼ ì¥ë¹„/ë¶€ì .",
    svsD3: "ì•¼ìˆ˜, í´ë¼ í…ŒëŸ¬ (3ë§Œ ì ).",
    svsD4: "ë³‘ë ¥ í›ˆë ¨, ì²©ë³´ ì‚¬ìš©.",
    svsD5: "ì „ë ¥ ì§ˆì£¼! ë‚¨ì€ ê°€ì†/ì¡°ê° ì‚¬ìš©.",
    svsBuffTip: "ğŸ’¡ íŒ: ê°€ì† ì‚¬ìš© ì „ ë²„í”„ í™œì„±í™”.",
    svsBattleTitle: "ğŸ›¡ï¸ ì „íˆ¬ ë‹¨ê³„",
    svsShield: "ë³´í˜¸ë§‰ ìœ ì§€: ìì› ë° ë³‘ë ¥ ë³´í˜¸.",
    svsRally: "ì§‘ê²° ê³µê²©: ë‹¨ë… ê³µê²© ê¸ˆì§€.",
    svsOrders: "ì§€íœ˜ ë”°ë¥´ê¸°: ëª©í‘œ ì„¤ì • í™•ì¸.",
    // FLAME AND FANGS
    fnfTitle: "ğŸ”¥ í™”ì—¼ê³¼ ì†¡ê³³ë‹ˆ",
    fnfDesc: "ì›”ìš”ì¼ ìµœëŒ€ ë³´ìƒì„ ìœ„í•œ ì¤€ë¹„.",
    fnfStep1: "<strong>ì¼ 08:00-15:59 UTC:</strong> ì •ë³´ ì„ë¬´ ìˆ˜í–‰í•˜ë˜ ìˆ˜ë ¹ ê¸ˆì§€.",
    fnfStep2: "<strong>ì¼ 16:00 - ì›” 00:00 UTC:</strong> ì •ë³´ ì„ë¬´ ê±´ë“œë¦¬ì§€ ë§ˆì„¸ìš”.",
    fnfStep3: "<strong>ì›” 00:00-07:59 UTC:</strong> ëª¨ë“  ì •ë³´ ì„ë¬´ ìˆ˜ë ¹ ë° ì™„ë£Œ."
  }
};


function applyTranslations(lang){
  const dict = i18n[lang] || i18n.en;
  document.querySelectorAll('[data-i18n]').forEach(el=>{ const key=el.getAttribute('data-i18n'); if(dict[key]) el.innerText=dict[key]; });
  document.querySelectorAll('[data-i18n-html]').forEach(el=>{ const key=el.getAttribute('data-i18n-html'); if(dict[key]) el.innerHTML=dict[key]; });
  document.documentElement.setAttribute('lang', lang);
}
window.addEventListener('DOMContentLoaded', ()=>{
  document.querySelectorAll('[data-lang]').forEach(btn=>{ btn.addEventListener('click', ()=>{ currentLang=btn.getAttribute('data-lang'); applyTranslations(currentLang); updateCountdown(); }); });
  applyTranslations(currentLang);
});
function tEventName(enName){ const keyMap={"Bear Trap":"evBearTrap","Foundry":"evFoundry","Canyon":"evCanyon","Crazy Joe":"evCrazyJoe"}; const key=keyMap[enName]; if(!key)return enName; const dict=i18n[currentLang]||i18n.en; return (dict[key]||enName).replace(/^([\u2600-\u27BF]|\p{Emoji_Presentation}|\p{Emoji}\uFE0F)\s*/u,'').trim()||enName; }

/* 2. SNOW EFFECT & CLOCK */
(() => { const canvas=document.getElementById('snow-canvas'); const ctx=canvas.getContext('2d'); let w=canvas.width=innerWidth,h=canvas.height=innerHeight; const flakes=[]; const num=Math.floor((w*h)/50000); for(let i=0;i<num;i++){ flakes.push({x:Math.random()*w, y:Math.random()*h, r:(Math.random()*2.5)+0.8, d:Math.random()*1.5, s:(Math.random()*0.6)+0.2}); } addEventListener('resize',()=>{w=canvas.width=innerWidth;h=canvas.height=innerHeight;}); function draw(){ ctx.clearRect(0,0,w,h); ctx.fillStyle='rgba(255,255,255,0.85)'; flakes.forEach((f,i)=>{ ctx.beginPath(); ctx.arc(f.x,f.y,f.r,0,Math.PI*2); ctx.fill(); f.y+=f.s+Math.sin(f.d+i)*0.3; f.x+=Math.cos(f.d+i)*0.2; if(f.y>h+10) f.y=-5,f.x=Math.random()*w; if(f.x>w+10) f.x=-5; if(f.x<-10) f.x=w+5; }); requestAnimationFrame(draw); } draw(); })();

function updateLocalTime() {
    const now = new Date();
    document.getElementById('local-time').innerText = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
}
setInterval(updateLocalTime, 1000); updateLocalTime();

/* 3. LOGIC LAINNYA */
document.querySelectorAll('.accordion').forEach(btn=>{ btn.addEventListener('click',()=>{ const target=document.getElementById(btn.dataset.target); const chev=btn.querySelector('.chev'); if(!target)return; const opened=target.style.display==='block'; document.querySelectorAll('.panel').forEach(p=>{ p.style.display='none'; p.previousElementSibling.querySelector('.chev').style.transform='rotate(0deg)'; }); if(!opened){ target.style.display='block'; chev.style.transform='rotate(90deg)'; } }); });

// Tab Switching
function switchTab(tabId, element) {
    document.querySelectorAll('.content-section').forEach(sec => sec.classList.remove('active'));
    document.getElementById(tabId).classList.add('active');
    document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
    element.classList.add('active');
}
// FC Calc (Accurate based on Table Image)
function calculateFC() {
    const current = parseInt(document.getElementById('fc-current').value);
    const target = parseInt(document.getElementById('fc-target').value);
    const resultBox = document.getElementById('result-calc');
    
    // Reset tampilan
    resultBox.style.display = 'block';
    resultBox.innerHTML = '';

    // Validasi
    if (current >= target) { 
        resultBox.innerHTML = "<span style='color:#ff4d4d'>âš ï¸ Target must be higher than Current!</span>"; 
        return; 
    }

    // DATA BIAYA PER LEVEL (Berdasarkan baris TOTAL di gambar)
    // Red: Fire Crystal biasa
    // Gold: Refined Fire Crystal (Mulai FC6)
    const costs = [
        null, // Level 0 tidak ada biaya
        { red: 1970, gold: 0 },    // Ke FC 1
        { red: 2715, gold: 0 },    // Ke FC 2
        { red: 4095, gold: 0 },    // Ke FC 3
        { red: 4830, gold: 0 },    // Ke FC 4
        { red: 5760, gold: 0 },    // Ke FC 5
        { red: 3105, gold: 199 },  // Ke FC 6
        { red: 3726, gold: 295 },  // Ke FC 7
        { red: 3726, gold: 414 },  // Ke FC 8
        { red: 4347, gold: 611 },  // Ke FC 9
        { red: 5420, gold: 1439 }  // Ke FC 10
    ];

    let totalRed = 0;
    let totalGold = 0;

    // Loop dari (Current + 1) sampai Target untuk menjumlahkan biaya
    for (let i = current + 1; i <= target; i++) {
        if (costs[i]) {
            totalRed += costs[i].red;
            totalGold += costs[i].gold;
        }
    }

    // Format Angka (biar ada titiknya, misal 1.000)
    const fmt = (num) => num.toLocaleString();

    // Tampilkan Hasil
    let html = `<div style="margin-bottom:4px; font-size:13px; color:#aaa;">Cost from FC${current} to FC${target}:</div>`;
    
    // Baris Fire Crystal Merah
    html += `<div style="font-size:16px; font-weight:bold; color:#ff5c5c; display:flex; align-items:center; gap:6px;">
                ğŸ”¥ ${fmt(totalRed)} <span style="font-size:12px; color:#ffcccc;">(Fire Crystal)</span>
             </div>`;
             
    // Baris Refined Crystal (Hanya muncul jika butuh)
    if (totalGold > 0) {
        html += `<div style="font-size:16px; font-weight:bold; color:#ffd700; margin-top:4px; display:flex; align-items:center; gap:6px;">
                    ğŸŒŸ ${fmt(totalGold)} <span style="font-size:12px; color:#fffacd;">(Refined FC)</span>
                 </div>`;
    }

    resultBox.innerHTML = html;
}/* --- CHIEF GEAR DATA (FULL COMPLETE 2026) --- */
const cgLevels = [
    // --- UNCOMMON (GREEN) --- 
    { name: "Uncommon (Start)", alloy:0, polish:0, plan:0, amber:0 },
    { name: "Uncommon 1â˜…", alloy:1500, polish:15, plan:0, amber:0 },
    { name: "Uncommon 2â˜…", alloy:3800, polish:40, plan:0, amber:0 },
    
    // --- RARE (BLUE) ---
    { name: "Rare (Base)", alloy:7000, polish:70, plan:0, amber:0 },
    { name: "Rare 1â˜…", alloy:9700, polish:95, plan:0, amber:0 },
    { name: "Rare 2â˜…", alloy:12000, polish:120, plan:45, amber:0 },
    { name: "Rare 3â˜…", alloy:15000, polish:150, plan:50, amber:0 },

    // --- EPIC (PURPLE) ---
    { name: "Epic (Base)", alloy:0, polish:0, plan:60, amber:0 },
    { name: "Epic 1â˜…", alloy:0, polish:0, plan:70, amber:0 },
    { name: "Epic 2â˜…", alloy:6500, polish:65, plan:40, amber:0 },
    { name: "Epic 3â˜…", alloy:8000, polish:80, plan:50, amber:0 },
    { name: "Epic T1", alloy:10000, polish:95, plan:60, amber:0 },
    { name: "Epic T1 1â˜…", alloy:11000, polish:110, plan:70, amber:0 },
    { name: "Epic T1 2â˜…", alloy:13000, polish:130, plan:85, amber:0 },
    { name: "Epic T1 3â˜…", alloy:15000, polish:160, plan:100, amber:0 },

    // --- MYTHIC (GOLD) ---
    { name: "Mythic (Base)", alloy:22000, polish:220, plan:40, amber:0 },
    { name: "Mythic 1â˜…", alloy:23000, polish:230, plan:40, amber:0 },
    { name: "Mythic 2â˜…", alloy:25000, polish:250, plan:45, amber:0 },
    { name: "Mythic 3â˜…", alloy:26500, polish:265, plan:45, amber:0 },
    
    // --- MYTHIC T1 ---
    { name: "Mythic T1", alloy:28000, polish:280, plan:45, amber:0 },
    { name: "Mythic T1 1â˜…", alloy:30500, polish:305, plan:50, amber:0 },
    { name: "Mythic T1 2â˜…", alloy:33000, polish:330, plan:50, amber:0 },
    { name: "Mythic T1 3â˜…", alloy:35500, polish:355, plan:50, amber:0 },

    // --- MYTHIC T2 ---
    { name: "Mythic T2", alloy:38000, polish:390, plan:55, amber:0 },
    { name: "Mythic T2 1â˜…", alloy:43000, polish:430, plan:75, amber:0 },
    { name: "Mythic T2 2â˜…", alloy:45500, polish:455, plan:75, amber:0 },
    { name: "Mythic T2 3â˜…", alloy:48000, polish:480, plan:75, amber:0 },

    // --- RED (MERAH) ---
    { name: "Red (Base)", alloy:50000, polish:530, plan:85, amber:10 },
    { name: "Red 1â˜…", alloy:52000, polish:560, plan:90, amber:10 },
    { name: "Red 2â˜…", alloy:54000, polish:590, plan:95, amber:10 },
    { name: "Red 3â˜…", alloy:56000, polish:620, plan:100, amber:10 },
    { name: "Red T1", alloy:59000, polish:670, plan:110, amber:15 },
    { name: "Red T1 1â˜…", alloy:61000, polish:700, plan:115, amber:15 },
    { name: "Red T1 2â˜…", alloy:63000, polish:730, plan:120, amber:15 },
    { name: "Red T1 3â˜…", alloy:65000, polish:760, plan:125, amber:15 },
    { name: "Red T2", alloy:68000, polish:810, plan:135, amber:20 },
    { name: "Red T2 1â˜…", alloy:70000, polish:840, plan:140, amber:20 },
    { name: "Red T2 2â˜…", alloy:72000, polish:870, plan:145, amber:20 },
    { name: "Red T2 3â˜…", alloy:74000, polish:900, plan:150, amber:20 },
    { name: "Red T3", alloy:77000, polish:950, plan:160, amber:25 },
    { name: "Red T3 1â˜…", alloy:80000, polish:990, plan:165, amber:25 },
    { name: "Red T3 2â˜…", alloy:83000, polish:1030, plan:170, amber:25 },
    { name: "Red T3 3â˜…", alloy:86000, polish:1070, plan:180, amber:25 },

    // --- T4 (WHITE/DIAMOND) ---
    // Sumber: Gambar 1000079980.jpg
    // Data "Summary" menunjukkan total biaya untuk naik penuh ke tahap tersebut
    { name: "T4 (Base)", alloy:120000, polish:1500, plan:250, amber:40 }, //
    { name: "T4 1â˜…", alloy:140000, polish:1650, plan:275, amber:40 }, //
    { name: "T4 2â˜…", alloy:160000, polish:1800, plan:300, amber:40 }, //
    { name: "T4 3â˜…", alloy:180000, polish:1950, plan:325, amber:40 }  //
];

// Load Dropdown Options (SAMA SEPERTI SEBELUMNYA)
window.addEventListener('DOMContentLoaded', () => {
    const cSel = document.getElementById('cg-current');
    const tSel = document.getElementById('cg-target');
    if(!cSel || !tSel) return;

    // Bersihkan opsi lama
    cSel.innerHTML = "";
    tSel.innerHTML = "";

    cgLevels.forEach((lvl, i) => {
        cSel.add(new Option(lvl.name, i));
        tSel.add(new Option(lvl.name, i));
    });
    tSel.selectedIndex = cgLevels.length - 1; 
});

// Fungsi Hitung
function calculateChiefGear() {
    const sIdx = parseInt(document.getElementById('cg-current').value);
    const eIdx = parseInt(document.getElementById('cg-target').value);
    const multi = parseInt(document.querySelector('input[name="cg-piece"]:checked').value);
    const res = document.getElementById('result-cg');

    res.style.display = 'block';
    if(sIdx >= eIdx) {
        res.innerHTML = "<span style='color:#ff5c5c'>âš ï¸ Target level must be higher!</span>";
        return;
    }

    let tAlloy=0, tPolish=0, tPlan=0, tAmber=0;

    // Jumlahkan biaya dari level (Start+1) sampai Target
    for(let i = sIdx + 1; i <= eIdx; i++) {
        tAlloy += cgLevels[i].alloy;
        tPolish += cgLevels[i].polish;
        tPlan += cgLevels[i].plan;
        tAmber += cgLevels[i].amber;
    }

    // Kalikan dengan jumlah gear (1 atau 6)
    tAlloy *= multi; tPolish *= multi; tPlan *= multi; tAmber *= multi;

    // Format Ribuan
    const f = (n) => n.toLocaleString();

    let html = `<div style="font-size:13px; color:#aaa; margin-bottom:8px;">Cost for <strong>${multi} Gear(s)</strong>:</div>`;
    html += `<div style="display:grid; grid-template-columns: 1fr 1fr; gap:8px;">
        <div style="background:rgba(255,255,255,0.05); padding:6px; border-radius:6px;">
            <div style="color:#dcdcdc; font-weight:bold;">ğŸ”© ${f(tAlloy)}</div>
            <div style="font-size:10px; color:#aaa;">Hardened Alloy</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:6px; border-radius:6px;">
            <div style="color:#fffacd; font-weight:bold;">ğŸ§ª ${f(tPolish)}</div>
            <div style="font-size:10px; color:#aaa;">Polishing Sol.</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:6px; border-radius:6px;">
            <div style="color:#ffe4b5; font-weight:bold;">ğŸ“œ ${f(tPlan)}</div>
            <div style="font-size:10px; color:#aaa;">Design Plans</div>
        </div>`;
    
    if(tAmber > 0) {
        html += `<div style="background:rgba(255,165,0,0.15); border:1px solid rgba(255,165,0,0.3); padding:6px; border-radius:6px;">
            <div style="color:#ffa500; font-weight:bold;">ğŸ’ ${f(tAmber)}</div>
            <div style="font-size:10px; color:#ffcc80;">Lunar Amber</div>
        </div>`;
    }
    html += `</div>`;
    res.innerHTML = html;
}
/* --- CHIEF CHARM CALCULATOR (DATA REAL) --- */
// Sumber Data: Gambar 1000080021.jpg
const charmLevels = [
    { lvl: 0, guide: 0, design: 0, secret: 0 },   // Level 0 (Start)
    { lvl: 1, guide: 5, design: 5, secret: 0 },     // Ke Level 1
    { lvl: 2, guide: 40, design: 15, secret: 0 },   // Ke Level 2
    { lvl: 3, guide: 60, design: 40, secret: 0 },   // Ke Level 3
    { lvl: 4, guide: 80, design: 100, secret: 0 },  // Ke Level 4
    { lvl: 5, guide: 100, design: 200, secret: 0 }, // Ke Level 5
    { lvl: 6, guide: 120, design: 300, secret: 0 }, // Ke Level 6
    { lvl: 7, guide: 140, design: 400, secret: 0 }, // Ke Level 7
    { lvl: 8, guide: 200, design: 400, secret: 0 }, // Ke Level 8
    { lvl: 9, guide: 300, design: 400, secret: 0 }, // Ke Level 9
    { lvl: 10, guide: 420, design: 420, secret: 0 }, // Ke Level 10
    { lvl: 11, guide: 560, design: 420, secret: 0 }, // Ke Level 11
    // Mulai Level 12 butuh Jewel Secrets (Buku Merah)
    { lvl: 12, guide: 580, design: 450, secret: 15 }, // Ke Level 12
    { lvl: 13, guide: 580, design: 450, secret: 30 }, // Ke Level 13
    { lvl: 14, guide: 600, design: 500, secret: 45 }, // Ke Level 14
    { lvl: 15, guide: 600, design: 500, secret: 70 }, // Ke Level 15
    { lvl: 16, guide: 650, design: 550, secret: 100 } // Ke Level 16
];

// Load Dropdown Charm
window.addEventListener('DOMContentLoaded', () => {
    const cSel = document.getElementById('charm-current');
    const tSel = document.getElementById('charm-target');
    if(!cSel || !tSel) return;

    // Bersihkan opsi lama
    cSel.innerHTML = "";
    tSel.innerHTML = "";

    charmLevels.forEach((l) => {
        cSel.add(new Option(`Level ${l.lvl}`, l.lvl));
        tSel.add(new Option(`Level ${l.lvl}`, l.lvl));
    });
    tSel.selectedIndex = charmLevels.length - 1; // Default Max Level
});

// Fungsi Hitung Charm
function calculateCharms() {
    const sIdx = parseInt(document.getElementById('charm-current').value);
    const eIdx = parseInt(document.getElementById('charm-target').value);
    const res = document.getElementById('result-charm');

    res.style.display = 'block';
    if(sIdx >= eIdx) {
        res.innerHTML = "<span style='color:#ff5c5c'>âš ï¸ Target level must be higher!</span>";
        return;
    }

    let tGuide = 0;
    let tDesign = 0;
    let tSecret = 0;

    // Loop biaya dari (Current + 1) sampai Target
    for(let i = sIdx + 1; i <= eIdx; i++) {
        if(charmLevels[i]) {
            tGuide += charmLevels[i].guide;
            tDesign += charmLevels[i].design;
            tSecret += charmLevels[i].secret;
        }
    }

    const f = (n) => n.toLocaleString();

    let html = `<div style="font-size:13px; color:#aaa; margin-bottom:8px;">Cost Lvl ${sIdx} âœ ${eIdx}:</div>`;
    html += `<div style="display:grid; grid-template-columns: 1fr 1fr; gap:8px;">
        <div style="background:rgba(255,255,255,0.05); padding:8px; border-radius:6px; text-align:center;">
            <div style="color:#d2b48c; font-weight:bold; font-size:1.1em;">ğŸ“˜ ${f(tGuide)}</div>
            <div style="font-size:10px; color:#aaa;">Charm Guide</div>
        </div>
        <div style="background:rgba(255,255,255,0.05); padding:8px; border-radius:6px; text-align:center;">
            <div style="color:#ffe4b5; font-weight:bold; font-size:1.1em;">ğŸ“œ ${f(tDesign)}</div>
            <div style="font-size:10px; color:#aaa;">Charm Design</div>
        </div>`;
    
    // Hanya tampilkan Jewel Secrets jika dibutuhkan (Level 12+)
    if(tSecret > 0) {
        html += `<div style="grid-column: span 2; background:rgba(255,100,100,0.15); border:1px solid rgba(255,100,100,0.3); padding:8px; border-radius:6px; text-align:center;">
            <div style="color:#ff5c5c; font-weight:bold; font-size:1.1em;">ğŸ“• ${f(tSecret)}</div>
            <div style="font-size:10px; color:#ffcccc;">Jewel Secret</div>
        </div>`;
    }

    html += `</div>`;
    res.innerHTML = html;
}


/* 4. COUNTDOWN LOGIC (SAME AS BEFORE) */
const anchorBear="2026-01-28"; const anchorFoundry="2026-01-25"; const anchorCanyon="2026-01-25"; const anchorCJ_Tue="2026-01-27"; const anchorCJ_Thu="2026-01-29"; 
const schedules=[{alli:"VLN",name:"Bear Trap",cycle:48,anchors:[`${anchorBear}T13:30:00Z`,`${anchorBear}T15:00:00Z`]}, {alli:"VLN",name:"Foundry",cycle:336,anchors:[`${anchorFoundry}T12:00:00Z`,`${anchorFoundry}T14:00:00Z`]}, {alli:"VLN",name:"Canyon",cycle:672,anchors:[`${anchorCanyon}T12:00:00Z`,`${anchorCanyon}T14:00:00Z`]}, {alli:"VLN",name:"Crazy Joe",cycle:336,anchors:[`${anchorCJ_Tue}T12:00:00Z`,`${anchorCJ_Thu}T12:30:00Z`]}, {alli:"GRD",name:"Bear Trap",cycle:48,anchors:[`${anchorBear}T14:00:00Z`,`${anchorBear}T16:00:00Z`]}, {alli:"GRD",name:"Foundry",cycle:336,anchors:[`${anchorFoundry}T12:00:00Z`,`${anchorFoundry}T14:00:00Z`]}, {alli:"GRD",name:"Canyon",cycle:672,anchors:[`${anchorCanyon}T12:00:00Z`,`${anchorCanyon}T14:00:00Z`]}, {alli:"GRD",name:"Crazy Joe",cycle:336,anchors:[`${anchorCJ_Tue}T13:00:00Z`,`${anchorCJ_Thu}T13:00:00Z`,`${anchorCJ_Tue}T14:00:00Z`,`${anchorCJ_Thu}T14:00:00Z`]}, {alli:"BEE",name:"Bear Trap",cycle:48,anchors:[`${anchorBear}T17:00:00Z`,`${anchorBear}T19:00:00Z`]}, {alli:"BEE",name:"Foundry",cycle:336,anchors:[`${anchorFoundry}T14:00:00Z`,`${anchorFoundry}T19:00:00Z`]}, {alli:"BEE",name:"Canyon",cycle:672,anchors:[`${anchorCanyon}T12:00:00Z`,`${anchorCanyon}T19:00:00Z`]}, {alli:"BEE",name:"Crazy Joe",cycle:336,anchors:[`${anchorCJ_Tue}T16:40:00Z`,`${anchorCJ_Thu}T16:40:00Z`,`${anchorCJ_Tue}T17:40:00Z`,`${anchorCJ_Thu}T17:40:00Z`]}, {alli:"TUR",name:"Bear Trap",cycle:48,anchors:[`${anchorBear}T13:30:00Z`,`${anchorBear}T19:00:00Z`]}, {alli:"TUR",name:"Foundry",cycle:336,anchors:[`${anchorFoundry}T14:00:00Z`,`${anchorFoundry}T19:00:00Z`]}, {alli:"TUR",name:"Canyon",cycle:672,anchors:[`${anchorCanyon}T19:00:00Z`,`${anchorCanyon}T21:00:00Z`]}, {alli:"TUR",name:"Crazy Joe",cycle:336,anchors:[`${anchorCJ_Tue}T19:00:00Z`,`${anchorCJ_Thu}T19:00:00Z`]}, {alli:"WBE",name:"Bear Trap",cycle:48,anchors:[`${anchorBear}T19:00:00Z`,`${anchorBear}T21:00:00Z`]}, {alli:"WBE",name:"Foundry",cycle:336,anchors:[`${anchorFoundry}T14:00:00Z`,`${anchorFoundry}T19:00:00Z`]}, {alli:"WBE",name:"Canyon",cycle:672,anchors:[`${anchorCanyon}T14:00:00Z`,`${anchorCanyon}T19:00:00Z`]}, {alli:"WBE",name:"Crazy Joe",cycle:336,anchors:[`${anchorCJ_Tue}T20:00:00Z`,`${anchorCJ_Thu}T20:00:00Z`]}, {alli:"HEL",name:"Bear Trap",cycle:48,anchors:[`${anchorBear}T19:00:00Z`,`${anchorBear}T21:00:00Z`]}, {alli:"HEL",name:"Foundry",cycle:336,anchors:[`${anchorFoundry}T14:00:00Z`,`${anchorFoundry}T19:00:00Z`]}, {alli:"HEL",name:"Canyon",cycle:672,anchors:[`${anchorCanyon}T14:00:00Z`,`${anchorCanyon}T19:00:00Z`]}, {alli:"HEL",name:"Crazy Joe",cycle:336,anchors:[`${anchorCJ_Tue}T20:00:00Z`,`${anchorCJ_Thu}T20:00:00Z`]}];
function getNextEvent(){ const now=new Date(); let upcoming=[]; schedules.forEach(item=>{ item.anchors.forEach(anchorStr=>{ let nextDate=new Date(anchorStr); const intervalMs=item.cycle*3600*1000; while(nextDate<=now){nextDate=new Date(nextDate.getTime()+intervalMs);} upcoming.push({alli:item.alli,name:item.name,time:nextDate}); }); }); upcoming.sort((a,b)=>a.time-b.time); return upcoming[0]; }
function updateCountdown(){ const next=getNextEvent(); const elName=document.getElementById('nextEventName'); const elDate=document.getElementById('nextEventDate'); const elD=document.getElementById('cdDays'); const elH=document.getElementById('cdHours'); const elM=document.getElementById('cdMinutes'); const elS=document.getElementById('cdSeconds'); if(!next){elName.innerText="No Event";return;} let translatedName=typeof tEventName==='function'?tEventName(next.name):next.name; elName.innerHTML=`<span class="${next.alli.toLowerCase()}">${next.alli}</span> â€¢ ${translatedName}`; const utcH=String(next.time.getUTCHours()).padStart(2,'0'); const utcM=String(next.time.getUTCMinutes()).padStart(2,'0'); elDate.innerText=`At ${utcH}:${utcM} UTC`; function tick(){ const now=new Date(); const diff=Math.floor((next.time-now)/1000); if(diff<=0){setTimeout(updateCountdown,1000);return;} const d=Math.floor(diff/86400); const h=Math.floor((diff%86400)/3600); const m=Math.floor((diff%3600)/60); const s=diff%60; if(d>0){elD.style.display='inline-block';elD.innerText=d+'d';}else{elD.style.display='none';} elH.innerText=String(h).padStart(2,'0'); elM.innerText=String(m).padStart(2,'0'); elS.innerText=String(s).padStart(2,'0'); } tick(); if(window._cdInterval)clearInterval(window._cdInterval); window._cdInterval=setInterval(tick,1000); }
updateCountdown(); document.getElementById('kor-panel').style.display='block'; document.querySelectorAll('.accordion')[0].querySelector('.chev').style.transform='rotate(90deg)';

/* 5. SERVER AGE & BIG TIMERS */
document.addEventListener("DOMContentLoaded", function() { const serverStartDate=new Date(2024,9,19); const today=new Date(); const diffTime=Math.abs(today-serverStartDate); const diffDays=Math.ceil(diffTime/(1000*60*60*24)); const ageElement=document.getElementById("server-age"); if(ageElement){ageElement.innerText=diffDays;ageElement.style.color="#ff4d4d";ageElement.style.fontWeight="bold";} });
(function() { const svsBase=new Date("2026-01-31T12:00:00Z"); const sfcBase=new Date("2026-02-14T12:00:00Z"); const cycleMs=28*24*60*60*1000; function getNextDate(baseDate){ const now=new Date(); let next=new Date(baseDate.getTime()); while(next.getTime()+86400000<now.getTime()){next=new Date(next.getTime()+cycleMs);} return next; } function updateBigTimers(){ const now=new Date().getTime(); const nextSvS=getNextDate(svsBase); const diffSvS=nextSvS.getTime()-now; const dateFmt={month:'short',day:'numeric',hour:'2-digit',minute:'2-digit',timeZone:'UTC'}; document.getElementById("svs-date-display").innerText=nextSvS.toLocaleDateString('en-GB',dateFmt)+" UTC"; if(diffSvS<0&&diffSvS>-86400000){document.getElementById("svs-timer").innerHTML="âš ï¸ WAR ACTIVE!";document.getElementById("svs-card").classList.add("active-war");}else{document.getElementById("svs-card").classList.remove("active-war");renderTime("svs-timer",diffSvS);} const nextSFC=getNextDate(sfcBase); const diffSFC=nextSFC.getTime()-now; document.getElementById("sfc-date-display").innerText=nextSFC.toLocaleDateString('en-GB',dateFmt)+" UTC"; if(diffSFC<0&&diffSFC>-86400000){document.getElementById("sfc-timer").innerHTML="ğŸ›¡ï¸ BATTLE ACTIVE!";}else{renderTime("sfc-timer",diffSFC);} } function renderTime(id,ms){ if(ms<0)ms+=cycleMs; const d=Math.floor(ms/(1000*60*60*24)); const h=Math.floor((ms%(1000*60*60*24))/(1000*60*60)); const m=Math.floor((ms%(1000*60*60))/(1000*60)); const s=Math.floor((ms%(1000*60))/1000); document.getElementById(id).innerText=`${d}d ${String(h).padStart(2,'0')}h ${String(m).padStart(2,'0')}m ${String(s).padStart(2,'0')}s`; } setInterval(updateBigTimers,1000); updateBigTimers(); })();
</script>

</body>
</html>
